# 更新日志

所有与项目相关的显著变化都将记录在此文件中。

## [1.0.4] - 2023-12-08

### 新增功能

- 添加了来源检测机制，根据访问IP自动路由到不同页面
- 从服务器（本机）访问时自动重定向到管理平台登录页
- 从其他设备（如树莓派）访问时显示默认用户界面
- 添加了环境变量配置选项，可通过SERVER_IP环境变量自定义服务器IP
- 新增了调试端点(/debug-ip)用于故障排查

## [1.0.3] - 2023-12-07

### 修复

- 修改了树莓派更新脚本，将更新检查脚本放置在用户主目录(/home/用户名)下，而不是/usr/local/bin
- 添加了更新日志记录，方便调试和检查更新问题
- 更新systemd服务配置，使用正确的IP地址和用户信息

## [1.0.2] - 2023-12-06

### 修复

- 修改树莓派客户端配置，将默认服务器地址从localhost改为具体IP地址（192.168.5.201）
- 更新了.env文件中的服务器URL配置

## [1.0.1] - 2023-12-05

### 新增功能

- 添加了自动更新机制
- 添加了Windows平台兼容性模拟模式

### 修复

- 修复了在Windows环境下运行时的"TypeError: The "original" argument must be of type Function"错误
- 优化了GPIO和I2C接口在非树莓派环境下的行为
- 添加了平台检测和硬件接口的优雅降级机制

### 变更

- 添加了update:check、update:install、update:rollback和update:version npm脚本命令
- 增加了错误修复指导文档ERROR-FIX-GUIDE.md

## [1.0.0] - 2023-12-01

### 新增功能

- 初始版本发布
- 基础门锁控制功能
- 实验室管理功能
- MQTT通信功能

### 修复

- 无

### 变更

- 无 